    <title>æˆ‘ä»¬çš„å°æ—¶å…‰</title>
    <link rel="stylesheet" href="style.css">
</head>
    <!-- åœ¨ <head> æ ‡ç­¾å†…å¼•å…¥ LeanCloud SDK -->
<script src="//cdn.jsdelivr.net/npm/leancloud-storage@4.13.2/dist/av-min.js"></script>
<!-- å¼•å…¥ä½ è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘JSæ–‡ä»¶ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥ä¼šåˆ›å»ºå®ƒ -->
<script src="js/loveData.js"></script>
    <!-- å°çŒ«å°ç‹—è£…é¥° -->
<div class="cat-decoration">ğŸ±</div>
<div class="dog-decoration">ğŸ¶</div>
    <!-- å¢å¼ºç‰ˆçˆ±å¿ƒç‚¹å‡»ç‰¹æ•ˆ -->
<script>
function createHeart(x, y) {
    const heart = document.createElement('div');
    const hearts = ['â¤ï¸', 'ğŸ’–', 'ğŸ’•', 'ğŸ’—', 'ğŸ’“', 'ğŸ’'];
    const randomHeart = hearts[Math.floor(Math.random() * hearts.length)];

    heart.innerHTML = randomHeart;
    heart.style.position = 'fixed';
    heart.style.left = (x - 15) + 'px';
    heart.style.top = (y - 15) + 'px';
    heart.style.fontSize = Math.random() * 20 + 20 + 'px'; // éšæœºå¤§å°
    heart.style.pointerEvents = 'none';
    heart.style.zIndex = '9999';
    heart.style.animation = `heartFloat ${Math.random() * 1 + 1}s ease-out forwards`;
    heart.style.filter = `hue-rotate(${Math.random() * 360}deg)`; // éšæœºé¢œè‰²

    document.body.appendChild(heart);

    setTimeout(() => {
        if (heart.parentNode) {
            heart.remove();
        }
    }, 2000);
}

// ç‚¹å‡»äº‹ä»¶ï¼ˆåŒæ—¶åˆ›å»ºå¤šä¸ªçˆ±å¿ƒï¼‰
document.addEventListener('click', function(e) {
    createHeart(e.clientX, e.clientY);
    // é¢å¤–åˆ›å»ºä¸¤ä¸ªå°çˆ±å¿ƒ
    setTimeout(() => createHeart(e.clientX + 10, e.clientY + 10), 100);
    setTimeout(() => createHeart(e.clientX - 10, e.clientY - 10), 200);
});

// ç§»åŠ¨è®¾å¤‡æ”¯æŒ
document.addEventListener('touchstart', function(e) {
    e.preventDefault();
    createHeart(e.touches[0].clientX, e.touches[0].clientY);
});
</script>

<style>
@keyframes heartFloat {
    0% {
        transform: translate(0, 0) rotate(0deg) scale(1);
        opacity: 1;
    }
    50% {
        transform: translate(-10px, -40px) rotate(180deg) scale(1.3);
        opacity: 0.7;
    }
    100% {
        transform: translate(10px, -80px) rotate(360deg) scale(0.3);
        opacity: 0;
    }
}
</style>

<!-- é£˜è½çš„å¿ƒå¿ƒ -->
<div class="heart-decoration">â¤ï¸</div>
<div class="heart-decoration">â¤ï¸</div>
<div class="heart-decoration">â¤ï¸</div>
<div class="heart-decoration">â¤ï¸</div>
<div class="heart-decoration">â¤ï¸</div>
<div class="heart-decoration">â¤ï¸</div>
<div class="heart-decoration">â¤ï¸</div>

<!-- ç”Ÿæ—¥è›‹ç³• -->
<div class="birthday-cake">ğŸ‚ ç”Ÿæ—¥å¿«ä¹å°å†¯åŒå­¦ happybirthday ğŸ‚</div>
    <!-- éŸ³é¢‘æ’­æ”¾å™¨ -->
<div class="audio-player">
    <audio id="bgMusic" loop>
        <source src="music/æœ‰æˆ‘å‘¢.mp3" type="audio/mpeg">
    </audio>
    <button id="playPauseBtn" class="audio-btn">â–¶ï¸Play music</button>
</div>

<script>
// éŸ³é¢‘æ§åˆ¶
const audio = document.getElementById('bgMusic');
const playPauseBtn = document.getElementById('playPauseBtn');

playPauseBtn.addEventListener('click', function() {
    if (audio.paused) {
        audio.play();
        playPauseBtn.innerHTML = 'â¸ï¸Pause the music';
        playPauseBtn.classList.add('playing');
    } else {
        audio.pause();
        playPauseBtn.innerHTML = 'â–¶ï¸Play music';
        playPauseBtn.classList.remove('playing');
    }
});
</script>
    <!DOCTYPE html>
<html lang="zh-CN">
<head>
    <!-- ä½ ç°æœ‰çš„headå†…å®¹ -->
</head>
    <!-- ğŸ€ å¯†ç ä¿æŠ¤ç•Œé¢ - æ·»åŠ åœ¨è¿™é‡Œ -->
    <div id="passwordOverlay" class="password-overlay">
        <div class="password-container">
            <div class="password-header">
                <div class="password-heart">ğŸ’–</div>
                <h2>ä¸“å±å¯†ç </h2>
                <p>å†¯å°æœ‹å‹ï¼ï¼çŒœçŒœå¯†ç æ˜¯ä»€ä¹ˆ~ğŸ’•</p>
            </div>
            <div class="password-input-group">
                <input type="password" id="passwordInput" class="password-input" placeholder="æˆ‘æœ€å–œæ¬¢ä½ " maxlength="8">
                <button onclick="checkPassword()" class="password-btn">ç‚¹æ­¤æ­¤å¤„æ‰“å¼€å±äºæˆ‘ä»¬çš„å°ä¸–ç•Œ</button>
            </div>
            <div class="password-hint">
                <span>ğŸ’ æç¤ºï¼šè¿™æ˜¯ä¸€ä¸ª8ä½æ•°å­—å¯†ç </span>
            </div>
        </div>
    </div>

    <!-- ä½ ç°æœ‰çš„æ‰€æœ‰å…¶ä»–å†…å®¹ -->
    <!-- å…¶ä½™å†…å®¹ä¿æŒä¸å˜ -->
    <script>
// å¯†ç éªŒè¯åŠŸèƒ½
function checkPassword() {
    const passwordInput = document.getElementById('passwordInput');
    const password = passwordInput.value;
    const correctPassword = '20031026'; // ä½ çš„å¯†ç 

    console.log('è°ƒè¯•ä¿¡æ¯ï¼šè¾“å…¥=' + password + ', æ­£ç¡®=' + correctPassword);

    if (password === correctPassword) {
        // å¯†ç æ­£ç¡®
        document.getElementById('passwordOverlay').style.display = 'none';
        document.body.classList.remove('hidden-content');
        alert('ğŸ‰ å¯†ç æ­£ç¡®ï¼å°å®çœŸæ£’ï¼ï¼ˆè¿™éƒ½çŒœä¸å‡ºæ¥çš„è¯çœŸçš„å¯ä»¥åˆ¤å®šçŒªæ°”ä¸Šèº«äº†å“ˆï¼‰');
    } else {
        // å¯†ç é”™è¯¯
        passwordInput.style.borderColor = '#ff4757';
        passwordInput.style.background = '#ffeaea';
        passwordInput.value = '';
        passwordInput.placeholder = 'âŒ å¯†ç é”™è¯¯ ä½ å†çŒœçŒœå‘¢å°ç¬¨çŒª';

        // éœ‡åŠ¨æ•ˆæœ
        passwordInput.style.animation = 'shake 0.5s ease-in-out';
        setTimeout(() => {
            passwordInput.style.animation = '';
        }, 500);
    }
}

// å›è½¦é”®æäº¤
document.getElementById('passwordInput').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        checkPassword();
    }
});

// é¡µé¢åŠ è½½æ—¶éšè—ä¸»å†…å®¹
document.addEventListener('DOMContentLoaded', function() {
    document.body.classList.add('hidden-content');
});
</script>

<style>
/* éœ‡åŠ¨åŠ¨ç”» */
@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-10px); }
    75% { transform: translateX(10px); }
}

/* éšè—ä¸»å†…å®¹çš„æ ·å¼ */
body.hidden-content > *:not(.password-overlay) {
    display: none !important;
}
</style>
    <script>
// ğŸ’• çˆ±æƒ…è®¡æ—¶å™¨åŠŸèƒ½
function initLoveTimer() {
    // ğŸ¯ é‡è¦ï¼šä¿®æ”¹ä¸ºä½ ä»¬å®é™…åœ¨ä¸€èµ·çš„æ—¥æœŸï¼
    const startDate = new Date('2025-06-28'); // æ ¼å¼ï¼šå¹´-æœˆ-æ—¥

    function updateLoveTimer() {
        const now = new Date();
        const diff = now - startDate;

        // è®¡ç®—æ—¶é—´
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((diff % (1000 * 60)) / 1000);

        // æ›´æ–°æ˜¾ç¤º
        document.getElementById('loveTimer').innerHTML = 
            `æˆ‘ä»¬å·²ç»ç›¸çˆ± <span style="color:#ff4757;">${days}</span> å¤© 
            <span style="color:#ff6b6b;">${hours}</span> å°æ—¶ 
            <span style="color:#ff8e8e;">${minutes}</span> åˆ†é’Ÿ 
            <span style="color:#ffafbd;">${seconds}</span> ç§’ ğŸ’–`;
    }

    // å¯åŠ¨è®¡æ—¶å™¨
    updateLoveTimer();
    setInterval(updateLoveTimer, 1000);
}

// é¡µé¢åŠ è½½åå¯åŠ¨è®¡æ—¶å™¨
document.addEventListener('DOMContentLoaded', function() {
    console.log('é¡µé¢åŠ è½½å®Œæˆï¼Œå¯åŠ¨è®¡æ—¶å™¨...');
    initLoveTimer();
});

// è°ƒè¯•ï¼šæ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨
console.log('è®¡æ—¶å™¨å…ƒç´ :', document.getElementById('loveTimer'));
</script>
    <script>
// ğŸ’Œ æƒ…ä¹¦ç³»ç»ŸåŠŸèƒ½
let letters = JSON.parse(localStorage.getItem('loveLetters')) || [];
let currentReplyId = null;

// åˆå§‹åŒ–æƒ…ä¹¦ç³»ç»Ÿ
function initLettersSystem() {
    displayLetters();
}

// å‘é€æƒ…ä¹¦
function sendLetter() {
    const to = document.getElementById('letterTo').value;
    const content = document.getElementById('letterContent').value.trim();

    if (!content) {
        alert('ğŸ’ è¯·å…ˆå†™ä¸‹ä½ çš„å¿ƒé‡Œè¯å“¦~');
        return;
    }

    const letter = {
        id: Date.now(),
        from: to === 'you' ? 'å†¯å°æœ‹å‹' : 'æ¸¸å…ˆç”Ÿ',
        to: to === 'you' ? 'æ¸¸å…ˆç”Ÿ' : 'å†¯å°æœ‹å‹',
        content: content,
        timestamp: new Date().toLocaleString('zh-CN'),
        reply: null
    };

    letters.unshift(letter);
    saveLetters();
    displayLetters();

    // æ¸…ç©ºè¾“å…¥æ¡†
    document.getElementById('letterContent').value = '';

    // æ˜¾ç¤ºå‘é€æˆåŠŸåŠ¨ç”»
    showMessage('ğŸ’Œ æƒ…ä¹¦å·²å¯„å‡ºï¼');
}

// ä¿å­˜è‰ç¨¿
function saveDraft() {
    const content = document.getElementById('letterContent').value;
    if (content) {
        localStorage.setItem('letterDraft', content);
        showMessage('ğŸ“ è‰ç¨¿å·²ä¿å­˜ï¼');
    }
}

// æ˜¾ç¤ºæ‰€æœ‰æƒ…ä¹¦
function displayLetters() {
    const container = document.getElementById('lettersContainer');

    if (letters.length === 0) {
        container.innerHTML = '<div class="no-letters">è¿˜æ²¡æœ‰æƒ…ä¹¦å‘¢ï¼Œå†™ç¬¬ä¸€å°å§ï¼</div>';
        return;
    }

    container.innerHTML = letters.map(letter => `
        <div class="letter-item">
            <div class="letter-header">
                <div class="letter-from">ğŸ’ ${letter.from} â†’ ${letter.to}</div>
                <div class="letter-time">${letter.timestamp}</div>
            </div>
            <div class="letter-content">${letter.content}</div>
            ${letter.reply ? `
                <div class="letter-reply">
                    <div class="reply-header">ğŸ’Œ ${letter.to}çš„å›å¤ï¼š</div>
                    <div class="reply-content">${letter.reply.content}</div>
                    <div class="reply-time">${letter.reply.timestamp}</div>
                </div>
            ` : `
                <button onclick="showReplyForm(${letter.id})" class="reply-btn" style="margin-top: 10px; padding: 8px 15px;">
                    âœï¸ å›å¤è¿™å°æƒ…ä¹¦
                </button>
            `}
        </div>
    `).join('');
}

// æ˜¾ç¤ºå›å¤è¡¨å•
function showReplyForm(letterId) {
    currentReplyId = letterId;
    document.getElementById('replySection').style.display = 'block';

    // æ»šåŠ¨åˆ°å›å¤åŒºåŸŸ
    document.getElementById('replySection').scrollIntoView({ 
        behavior: 'smooth' 
    });
}

// å‘é€å›å¤
function sendReply() {
    const content = document.getElementById('replyContent').value.trim();

    if (!content) {
        alert('ğŸ’ è¯·å†™ä¸‹ä½ çš„å›å¤å“¦~');
        return;
    }

    const letter = letters.find(l => l.id === currentReplyId);
    if (letter) {
        letter.reply = {
            content: content,
            timestamp: new Date().toLocaleString('zh-CN')
        };

        saveLetters();
        displayLetters();

        // éšè—å›å¤åŒºåŸŸå¹¶æ¸…ç©º
        document.getElementById('replySection').style.display = 'none';
        document.getElementById('replyContent').value = '';
        currentReplyId = null;

        showMessage('ğŸ’Œ å›å¤å·²å‘é€ï¼');
    }
}

// ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
function saveLetters() {
    localStorage.setItem('loveLetters', JSON.stringify(letters));
}

// æ˜¾ç¤ºæ¶ˆæ¯æç¤º
function showMessage(text) {
    const message = document.createElement('div');
    message.textContent = text;
    message.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
        color: white;
        padding: 15px 25px;
        border-radius: 25px;
        box-shadow: 0 5px 20px rgba(255, 107, 107, 0.4);
        z-index: 10000;
        animation: slideInRight 0.5s ease;
    `;

    document.body.appendChild(message);

    setTimeout(() => {
        message.remove();
    }, 3000);
}

// åŠ è½½è‰ç¨¿
function loadDraft() {
    const draft = localStorage.getItem('letterDraft');
    if (draft) {
        document.getElementById('letterContent').value = draft;
    }
}

// é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', function() {
    initLettersSystem();
    loadDraft();
});
</script>
// ğŸ¯ ä¸€èµ·å¾…å®Œæˆçš„å°äº‹ä»¶åŠŸèƒ½
// ğŸ¯ ä¸€èµ·å¾…å®Œæˆçš„å°äº‹ä»¶
    <script>
let todos = JSON.parse(localStorage.getItem('loveTodos')) || [
    { id: 1, text: 'ä¸€èµ·åæ‘©å¤©è½®', completed: false },
    { id: 2, text: 'ä¸€èµ·å»å…¬å›­é‡é¤æ”¾é£ç­', completed: false },
    { id: 3, text: 'ä¸€èµ·çœ‹æ—¥å‡ºæ—¥è½', completed: false },
    { id: 4, text: 'ä¸ºå¯¹æ–¹å†™ä¸€é¦–æƒ…è¯—', completed: false }
    { id: 3, text: 'ä¸€èµ·ç©¿æƒ…ä¾£è£…å»é€›è¡—', completed: false },
    { id: 4, text: '', completed: false }
];

function initTodos() {
    displayTodos();
}

function displayTodos() {
    const todoList = document.getElementById('todoList');

    if (todos.length === 0) {
        todoList.innerHTML = '<div style="text-align: center; color: #ff8e8e; padding: 20px;">è¿˜æ²¡æœ‰è®¡åˆ’çš„å°äº‹ä»¶å‘¢ï¼Œæ·»åŠ ç¬¬ä¸€ä¸ªå§ï¼</div>';
        return;
    }

    todoList.innerHTML = todos.map(todo => `
        <div class="todo-item ${todo.completed ? 'completed' : ''}">
            <div class="todo-checkbox ${todo.completed ? 'checked' : ''}" 
                 onclick="toggleTodo(${todo.id})"></div>
            <div class="todo-text">${todo.text}</div>
            <button class="delete-btn" onclick="deleteTodo(${todo.id})">ğŸ—‘ï¸</button>
        </div>
    `).join('');
}

function toggleTodo(id) {
    const todo = todos.find(t => t.id === id);
    if (todo) {
        todo.completed = !todo.completed;
        saveTodos();
        displayTodos();

        if (todo.completed) {
            showRomanticMessage();
        }
    }
}

function showRomanticMessage() {
    alert('æ…¢æ…¢å˜æˆå½¼æ­¤çš„æ—§äººï¼Œæ…¢æ…¢çˆ±ç€å½¼æ­¤ï¼Œæ…¢æ…¢å‘ç”Ÿæ›´å¤šæ›´å¤šæ–°äº‹ ğŸ’–');
    alert('æ…¢æ…¢å˜æˆå½¼æ­¤çš„æ—§äººï¼Œæ…¢æ…¢çˆ±ç€å½¼æ­¤ï¼Œæ…¢æ…¢å‘ç”Ÿæ›´å¤šæ–°äº‹ ğŸ’–');
}

function addNewTodo() {
    const input = document.getElementById('newTodo');
    const text = input.value.trim();

    if (text) {
        const newTodo = {
            id: Date.now(),
            text: text,
            completed: false
        };

        todos.unshift(newTodo);
        saveTodos();
        displayTodos();
        input.value = '';

        // ä½¿ç”¨ä½ ç°æœ‰çš„showMessageå‡½æ•°
        if (typeof showMessage === 'function') {
            showMessage('âœ… æ–°äº‹ä»¶å·²æ·»åŠ ï¼');
        } else {
            alert('âœ… æ–°äº‹ä»¶å·²æ·»åŠ ï¼');
        }
    } else {
        alert('ğŸ’ è¯·è¾“å…¥è¦æ·»åŠ çš„äº‹ä»¶å“¦~');
        alert('ğŸ’ è¯·è¾“å…¥è¦æ·»åŠ çš„äº‹ä»¶å“¦æˆ‘çš„å°ç¬¨è›‹~');
    }
}

function deleteTodo(id) {
    if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªç¾å¥½çš„è®¡åˆ’å—ï¼Ÿ')) {
    if (confirm('ç¡®å®šè¦åˆ é™¤å—ï¼Ÿå¯ä¸è¦åˆ é”™äº†å“Ÿå°ç¬¨è›‹')) {
        todos = todos.filter(t => t.id !== id);
        saveTodos();
        displayTodos();
    }
}

function saveTodos() {
    localStorage.setItem('loveTodos', JSON.stringify(todos));
}

// æ”¯æŒæŒ‰Enteré”®æ·»åŠ 
document.addEventListener('DOMContentLoaded', function() {
    const input = document.getElementById('newTodo');
    if (input) {
        input.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addNewTodo();
            }
        });
    }
    initTodos();
});
</script>
<style>
@keyframes slideInRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}
</style>
    <!-- å¼•å…¥Leafletåœ°å›¾åº“ -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
// ğŸ—ºï¸ çˆ±æƒ…åœ°å›¾åŠŸèƒ½ - ä»¥è†ç”°å¸‚ä¸ºä¸­å¿ƒ
let loveMap = null;
let memories = JSON.parse(localStorage.getItem('loveMemories')) || [];
let markers = [];

// åˆå§‹åŒ–åœ°å›¾ - ä¿®æ”¹ä¸ºä¸­å¿ƒå®šä½è†ç”°å¸‚
function initLoveMap() {
    // åˆ›å»ºåœ°å›¾ï¼Œä»¥è†ç”°å¸‚ä¸ºä¸­å¿ƒ - è†ç”°å¸‚åæ ‡ï¼š[25.454, 119.008]
    loveMap = L.map('loveMap').setView([25.454, 119.008], 12); // è†ç”°å¸‚ä¸­å¿ƒï¼Œç¼©æ”¾çº§åˆ«12

    // æ·»åŠ åœ°å›¾å›¾å±‚ï¼ˆä½¿ç”¨é«˜å¾·åœ°å›¾ï¼‰
    L.tileLayer('https://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}', {
        subdomains: ['1', '2', '3', '4'],
        attribution: '&copy; <a href="https://www.amap.com/">é«˜å¾·åœ°å›¾</a>'
    }).addTo(loveMap);

    // åœ¨è†ç”°å¸‚ä½ç½®æ·»åŠ ä¸€ä¸ªç‰¹æ®Šæ ‡è®°
    addPutianCenterMarker();

    // åŠ è½½å·²æœ‰çš„å›å¿†åœ°ç‚¹
    loadMemories();
}

// åœ¨è†ç”°å¸‚ä¸­å¿ƒæ·»åŠ ç‰¹æ®Šæ ‡è®°
function addPutianCenterMarker() {
    const putianMarker = L.marker([25.454, 119.008], {
        icon: L.divIcon({
            className: 'putian-marker',
            html: 'ğŸ ',
            iconSize: [40, 40],
            iconAnchor: [20, 40]
        })
    }).addTo(loveMap);

    putianMarker.bindPopup(`
        <div class="map-popup">
            <h4>ğŸ è†ç”°</h4>
            <p>æˆ‘ä»¬çˆ±æƒ…æ•…äº‹å¼€å§‹çš„åœ°æ–¹  å°å®è´~</p>
        </div>
    `);
}

// æ·»åŠ å›å¿†åœ°ç‚¹
function addMemoryLocation() {
    const name = document.getElementById('locationName').value.trim();
    const address = document.getElementById('locationAddress').value.trim();
    const date = document.getElementById('visitDate').value;
    const description = document.getElementById('memoryDescription').value.trim();

    if (!name || !address) {
        alert('ğŸ’ è¯·è‡³å°‘å¡«å†™åœ°ç‚¹åç§°å’Œåœ°å€å“¦~');
        return;
    }

    // ä½¿ç”¨è†ç”°å¸‚èŒƒå›´å†…çš„éšæœºåæ ‡
    const memory = {
        id: Date.now(),
        name: name,
        address: address,
        date: date || new Date().toISOString().split('T')[0],
        description: description,
        coordinates: getPutianCoordinates(), // ä½¿ç”¨è†ç”°èŒƒå›´å†…çš„åæ ‡
        type: 'memory'
    };

    memories.push(memory);
    saveMemories();
    addMarkerToMap(memory);
    updateMemoriesList();

    // æ¸…ç©ºè¡¨å•
    document.getElementById('locationName').value = '';
    document.getElementById('locationAddress').value = '';
    document.getElementById('visitDate').value = '';
    document.getElementById('memoryDescription').value = '';

    showMessage('ğŸ“ å›å¿†åœ°ç‚¹å·²æ·»åŠ ï¼');
}

// ç”Ÿæˆè†ç”°å¸‚èŒƒå›´å†…çš„åæ ‡
function getPutianCoordinates() {
    // è†ç”°å¸‚å¤§è‡´çš„ç»çº¬åº¦èŒƒå›´
    const putianBounds = {
        north: 25.7,   // åŒ—çº¬
        south: 25.2,   // å—çº¬  
        east: 119.3,   // ä¸œç»
        west: 118.7    // è¥¿ç»
    };

    const lat = putianBounds.south + Math.random() * (putianBounds.north - putianBounds.south);
    const lng = putianBounds.west + Math.random() * (putianBounds.east - putianBounds.west);
    return [lat, lng];
}

// æ·»åŠ æ ‡è®°åˆ°åœ°å›¾
function addMarkerToMap(memory) {
    const marker = L.marker(memory.coordinates, {
        icon: L.divIcon({
            className: 'custom-marker',
            html: 'ğŸ’–',
            iconSize: [30, 30],
            iconAnchor: [15, 30]
        })
    }).addTo(loveMap);

    // å¼¹å‡ºä¿¡æ¯æ¡†
    marker.bindPopup(`
        <div class="map-popup">
            <h4>${memory.name}</h4>
            <p>ğŸ“ ${memory.address}</p>
            <p>ğŸ“… ${memory.date}</p>
            <p>${memory.description || 'è¿™æ˜¯æˆ‘ä»¬ç¾å¥½çš„å›å¿†~'}</p>
            <button onclick="focusOnMemory(${memory.id})" class="focus-btn">ğŸ” æŸ¥çœ‹è¯¦æƒ…</button>
        </div>
    `);

    markers.push({ id: memory.id, marker: marker });
}

// èšç„¦åˆ°ç‰¹å®šå›å¿†
function focusOnMemory(memoryId) {
    const memory = memories.find(m => m.id === memoryId);
    if (memory) {
        loveMap.setView(memory.coordinates, 15); // æ”¾å¤§åˆ°æ›´è¿‘çš„çº§åˆ«

        // é«˜äº®å¯¹åº”çš„åˆ—è¡¨é¡¹
        document.querySelectorAll('.memory-item').forEach(item => {
            item.classList.remove('active');
        });
        const targetItem = document.querySelector(`.memory-item[data-id="${memoryId}"]`);
        if (targetItem) {
            targetItem.classList.add('active');
        }
    }
}

// æ›´æ–°å›å¿†åˆ—è¡¨
function updateMemoriesList() {
    const container = document.getElementById('memoriesList');

    if (memories.length === 0) {
        container.innerHTML = '<div class="no-memories">è¿˜æ²¡æœ‰æ·»åŠ å›å¿†åœ°ç‚¹å‘¢~</div>';
        return;
    }

    container.innerHTML = memories.map(memory => `
        <div class="memory-item" data-id="${memory.id}" onclick="focusOnMemory(${memory.id})">
            <div class="memory-name">ğŸ“ ${memory.name}</div>
            <div class="memory-address">ğŸ  ${memory.address}</div>
            <div class="memory-date">ğŸ“… ${memory.date}</div>
            <div class="memory-desc">${memory.description || 'ç¾å¥½çš„å›å¿†~'}</div>
        </div>
    `).join('');
}

// åŠ è½½æ‰€æœ‰å›å¿†
function loadMemories() {
    memories.forEach(memory => {
        addMarkerToMap(memory);
    });
    updateMemoriesList();
}

// ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
function saveMemories() {
    localStorage.setItem('loveMemories', JSON.stringify(memories));
}

// æ˜¾ç¤ºæ¶ˆæ¯æç¤º
function showMessage(text) {
    const message = document.createElement('div');
    message.textContent = text;
    message.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
        color: white;
        padding: 15px 25px;
        border-radius: 25px;
        box-shadow: 0 5px 20px rgba(255, 107, 107, 0.4);
        z-index: 10000;
        animation: slideInRight 0.5s ease;
    `;

    document.body.appendChild(message);

    setTimeout(() => {
        message.remove();
    }, 3000);
}
// é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', function() {
    initLoveMap();
    addSampleMemories();
});
</script>

<style>
/* è†ç”°ä¸­å¿ƒæ ‡è®°æ ·å¼ */
.putian-marker {
    background: transparent;
    border: none;
    font-size: 24px;
}

/* åœ°å›¾å¼¹çª—æ ·å¼ */
.map-popup {
    text-align: center;
    min-width: 200px;
}

.map-popup h4 {
    color: #ff6b6b;
    margin-bottom: 10px;
}

.map-popup p {
    color: #666;
    margin: 5px 0;
    font-size: 14px;
}

.focus-btn {
    background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 10px;
    cursor: pointer;
    margin-top: 10px;
    font-family: 'Comic Sans MS', 'æ¥·ä½“', cursive;
    font-size: 12px;
}

.no-memories {
    text-align: center;
    color: #ff8e8e;
    font-style: italic;
    padding: 20px;
}

.memory-address {
    color: #ff8e8e;
    font-size: 0.9rem;
    margin-bottom: 5px;
}
</style>
<body>

    <script>
const quizAnswers = {
    1: 'A', // ç¬¬ä¸€é¢˜æ­£ç¡®ç­”æ¡ˆï¼šA. çŒ«å’–
    2: 'B', // ç¬¬äºŒé¢˜æ­£ç¡®ç­”æ¡ˆï¼šB. å°å®å®  
    3: 'C'  // ç¬¬ä¸‰é¢˜æ­£ç¡®ç­”æ¡ˆï¼šC. æ¹„æ´²å²›
};

let userAnswers = {};
let currentQuestion = 1;

function selectAnswer(questionNum, answer) {
    // ä¿å­˜ç­”æ¡ˆ
    userAnswers[questionNum] = answer;
    
    // æ˜¾ç¤ºä¸‹ä¸€é¢˜æˆ–æ˜¾ç¤ºç»“æœ
    if (questionNum < 3) {
        // éšè—å½“å‰é¢˜ç›®ï¼Œæ˜¾ç¤ºä¸‹ä¸€é¢˜
        document.getElementById(`question${questionNum}`).style.display = 'none';
        document.getElementById(`question${questionNum + 1}`).style.display = 'block';
        currentQuestion = questionNum + 1;
    } else {
        // æ‰€æœ‰é¢˜ç›®ç­”å®Œï¼Œæ˜¾ç¤ºç»“æœ
        showQuizResult();
    }
}

function showQuizResult() {
    // è®¡ç®—å¾—åˆ†
    let correctCount = 0;
    for (let i = 1; i <= 3; i++) {
        if (userAnswers[i] === quizAnswers[i]) {
            correctCount++;
        }
    }
    
    const score = Math.round((correctCount / 3) * 100);
    
    // éšè—é¢˜ç›®å®¹å™¨ï¼Œæ˜¾ç¤ºç»“æœå®¹å™¨
    document.getElementById('quizContainer').style.display = 'none';
    document.getElementById('resultContainer').style.display = 'block';
    
    // æ›´æ–°å¾—åˆ†æ˜¾ç¤º
    document.getElementById('scoreText').textContent = `å¿ƒæœ‰çµçŠ€ç¨‹åº¦ï¼š${score}%`;
    
    // æ ¹æ®å¾—åˆ†æ˜¾ç¤ºä¸åŒæ¶ˆæ¯
    const message = getResultMessage(score);
    document.getElementById('resultMessage').textContent = message;
    
    // å¦‚æœå…¨éƒ¨ç­”å¯¹ï¼Œæ˜¾ç¤ºä¿¡å°å¥–åŠ±
    if (correctCount === 3) {
        document.getElementById('envelopeReward').style.display = 'block';
    }
}

function getResultMessage(score) {
    if (score === 100) {
        return "å™¢å“Ÿ~ä¸é”™å˜›æˆ‘çš„å°å®è´ å‹‰å‹‰å¼ºå¼ºç»™ä½ ä¸€ä¸ªå°å¥–åŠ±å§ğŸ’Œ";
    } else if (score >= 70) {
        return "å†ç­”ä¸€ç­”å‘¢å°ç¬¨çŒªï¼ï¼è¿™æ ·æ˜¯è¦è¢«æˆ‘æƒ©ç½šæ‰“å±è‚¡çš„å“Ÿ";
    } else if (score >= 30) {
        return "å†ç­”ä¸€ç­”å‘¢å°ç¬¨çŒªï¼ï¼è¿™æ ·æ˜¯è¦è¢«æˆ‘æƒ©ç½šæ‰“å±è‚¡çš„å“Ÿ";
 
    } else {
        return "å†ç­”ä¸€ç­”å‘¢å°ç¬¨çŒªï¼ï¼è¿™æ ·æ˜¯è¦è¢«æˆ‘æƒ©ç½šæ‰“å±è‚¡çš„å“Ÿ";
    }
}

function openEnvelope() {
    // æ˜¾ç¤ºæƒŠå–œå¼¹çª—
    document.getElementById('surpriseModal').style.display = 'flex';
}

function closeSurprise() {
    // å…³é—­æƒŠå–œå¼¹çª—
    document.getElementById('surpriseModal').style.display = 'none';
}

// é‡æ–°å¼€å§‹æµ‹è¯•
function restartQuiz() {
    userAnswers = {};
    currentQuestion = 1;
    
    // é‡ç½®æ˜¾ç¤º
    document.getElementById('quizContainer').style.display = 'block';
    document.getElementById('resultContainer').style.display = 'none';
    
    // æ˜¾ç¤ºç¬¬ä¸€é¢˜ï¼Œéšè—å…¶ä»–é¢˜
    document.getElementById('question1').style.display = 'block';
    document.getElementById('question2').style.display = 'none';
    document.getElementById('question3').style.display = 'none';
}
     </script>
    <header>
        <h1>â¤ï¸æ¸¸å…ˆç”Ÿå’Œå†¯å°æœ‹å‹çš„å°æ—¶å…‰â¤ï¸</h1>
        <p>è¿™é‡Œè®°å½•ç€æˆ‘ä»¬åœ¨ä¸€èµ·çš„æ¯ä¸€ä¸ªç¾å¥½ç¬é—´</p>
    </header>

<!-- ğŸ•è¿™æ˜¯ä¸€ä¸ªå¹¸ç¦è®¡æ•°å™¨-->
<div class="love-timer-container">
    <div class="timer-heart">ğŸ’–</div>
    <div id="loveTimer" class="love-timer">æƒ³å°å®å®çš„ä¸€åˆ†ä¸€ç§’</div>
    <div class="timer-subtitle">â€œæ—¶é—´ï¼Œç­‰ä¸äº†äºº~ç”Ÿæ´»ä¸­ä¸€ä¸ç•™ç¥~â€</div>
</div>

<!-- ä½ ç°æœ‰çš„å…¶ä»–å†…å®¹ -->
<main class="gallery">
    <!-- ç…§ç‰‡å†…å®¹ -->
</main>
    <main class="gallery">
        <!-- ç…§ç‰‡1 -->
        <div class="photo">
            <img src="images/1.jpg" alt="æˆ‘ä»¬æœ€å‡ºç‰‡çš„ä¸€å¼ ç…§ç‰‡ï¼ç”·å¸…å¥³ç¾ï¼">
            <p>è¿™æ˜¯æˆ‘ä»¬ç¬¬ä¸€æ¬¡åœ¨è†ç”°ä¹‹å¤–çš„åœ°æ–¹è§é¢ï¼Œè™½ç„¶åªå»è¥¿è¡—ç©äº†ä¸€æ®µæ—¶é—´ å…¶ä»–æ—¶é—´..å“ˆå“ˆ  æˆ‘ä»¬çœŸçš„å¾ˆå¥½çœ‹ï¼</p>
        </div>

        <!-- ç…§ç‰‡2 -->
        <div class="photo">
            <img src="images/2.jpg" alt="2025.9æœˆä»½çš„è§é¢">
            <p>å…¶å®è¿™å¼ ç…§ç‰‡æˆ‘ä¹Ÿè§‰å¾—æŒºå¥½çœ‹çš„ é‚£å‡ å¤©æ‚ å“‰æ‚ å“‰çš„ åœ¨å½¼æ­¤èº«è¾¹çš„å°æ—¥å­å¾ˆå¹¸ç¦</p>
        </div>

        <!-- ç…§ç‰‡3 -->
        <div class="photo">
            <img src="images/3.jpg" alt="å•µå•µ">
            <p>äº²äº²äº²äº²äº²äº²äº²äº²äº²äº² ä½œä¸ºèŠå¤©èƒŒæ™¯æ¿èŠå¤©éƒ½ä¼šå˜å¾—å¾ˆæœ‰é£Ÿæ¬²</p>
        </div>
    </main>
<!-- åœ¨ç…§ç‰‡ç”»å»Šåé¢æ·»åŠ å›å¿†å½• -->
</main> <!-- è¿™æ˜¯ä½ ç°æœ‰ç…§ç‰‡ç”»å»Šçš„ç»“æŸæ ‡ç­¾ -->

<!-- ğŸ’• å¿ƒåŠ¨å›å¿†å½• -->
<section class="memory-section">
    <div class="memory-header">
        <div class="memory-heart">ğŸ“–</div>
        <h2>æˆ‘ä»¬çš„çˆ±æƒ…å›å¿†å½•</h2>
        <p>è®°å½•æ¯ä¸€ä¸ªå¿ƒåŠ¨ç¬é—´</p>
    </div>

    <div class="memory-timeline">
        <!-- å›å¿†1 -->
        <div class="memory-item">
            <div class="memory-date">2025.01.23</div>
            <div class="memory-content">
                <div class="memory-title">æˆ‘ä»¬çš„å¼€å§‹</div>
                <div class="memory-text">é˜´å·®é˜³é”™çš„ä¸€ä¸ªå‡Œæ™¨å››ç‚¹åˆ°å‡Œæ™¨å…­ç‚¹ï¼Œä¸€ä¸ªæ‰“ç‹è€…åæœ‰ç‚¹å…´å¥‹ç¡ä¸ç€çš„å¤§å­¦ç”Ÿå’Œå¦å¤–ä¸€ä¸ªçªå‘å¥‡æƒ³ä»å£°æ§ç›´æ’­é—´å‡ºæ¥çš„å¤§å­¦ç”Ÿåœ¨å‡Œæ™¨å››ç‚¹ç›¸é‡äº†ï¼Œç®€ç›´å°±æ˜¯ä¸–ç•Œä¸Šçš„å¦å¤–ä¸€ä¸ªè‡ªå·±ï¼ˆæ·±çˆ±ç€çˆ·çˆ·å¥¶å¥¶ï¼Œè¨éº»ç–¹å’Œæ¹¿ç–¹ï¼Œå¸­ç‘ï¼Œä¹’ä¹“çƒ...ï¼‰ã€‚ä¸€åˆ‡éƒ½å¾ˆåˆæ‹ï¼Œä¸€åˆ‡éƒ½åˆšåˆšå¥½ã€‚äººåƒå°±ç®—äº†è¿˜åœ¨è†ç”°å­¦é™¢ï¼Œå½“æ—¶çœŸçš„ç‹ ç‹ å“äº†ä¸€è·³ã€‚ä¸€é€šç”µè¯ï¼Œæˆ‘ä»¬çš„æ•…äº‹å¼€å§‹~</div>
            </div>
        </div>

        <!-- å›å¿†2 -->
        <div class="memory-item">
            <div class="memory-date">2025.01.28</div>
            <div class="memory-content">
                <div class="memory-title">æˆ‘ä»¬è¿‡çš„ç¬¬ä¸€ä¸ªé™¤å¤•</div>
                <div class="memory-text">"æ–°å¹´å¿«ä¹ï¼""æ–°å¹´å¿«ä¹ï¼"é‚£æ—¶å€™æˆ‘ä»¬è¿˜æ²¡æœ‰è§è¿‡é¢ çƒŸèŠ±ç»½å¼€ä¸‹æˆ‘ä»¬çš„å‘å–Š æ˜¯æ²‰å¯‚çš„å¿ƒæ€¦ç„¶å¿ƒåŠ¨çš„ä¹ç«  ä¸ä¹…çš„å°†æ¥ æˆ‘ä»¬ä¼šä¸€èµ·è¿‡é™¤å¤• æƒ³æƒ³å°±è§‰å¾—å¾ˆå¹¸ç¦</div>
            </div>
        </div>

        <!-- å›å¿†3 -->
        <div class="memory-item">
            <div class="memory-date">2025.05.01</div>
            <div class="memory-content">
                <div class="memory-title">æˆ‘ä»¬çš„ç¬¬ä¸€æ¬¡çº¦ä¼š</div>
                <div class="memory-text">æ¯”è¾ƒå–œæ¬¢çš„æ˜¯ç¬¬ä¸€æ¬¡çº¦ä¼šçš„ç¬¬ä¸‰å¤© è¿™æ˜¯æˆ‘ä»¬å…³ç³»çš„ç¬¬ä¸€ä¸ªé‡Œç¨‹ç¢‘ çŒ«å’–çš„å°çŒ«çŒ«å¾ˆåƒä½  æˆ‘ä»¬åœ¨å¾€æ›´å¯¹çš„æ–¹å‘æ¥è¿‘</div>
            </div>
        </div>

        <!-- å›å¿†4 -->
        <div class="memory-item">
            <div class="memory-date">2025.06.28</div>
            <div class="memory-content">
                <div class="memory-title">æˆ‘ä»¬çš„ç¬¬ä¸‰æ¬¡çº¦ä¼š</div>
                <div class="memory-text">ç¬¬ä¸‰æ¬¡çº¦ä¼š æˆ‘ä»¬æ­£å¼ç¡®å®šå…³ç³»å•¦ ä¸€èµ·åƒçƒ§çƒ¤ä¸€èµ·å»ktvï¼ˆç„¶åæˆ‘å°±æŠŠå®å®å¼ºå»äº†ï¼‰ ä¹‹å‰ä¸æ˜¯"å®šå®šå®š"å—ï¼Œå°å®å®è¿˜è¯´"å®šä½äº†å°±è§£ä¸å¼€å•¦" é‚£å®šä½äº†åå†·é™æœŸæˆ‘æƒ³é€šäº†æˆ‘å°±è¦æŠŠæˆ‘çš„åˆå»ç»™ä½ äº†  åé¢æˆ‘ä»¬å¼€å§‹äº†æˆ‘ä»¬ç¬¬ä¸€æ¬¡æ—…æ¸¸ï¼ï¼ˆè™½ç„¶åªæ˜¯æ¹„æ´²å²›ï¼‰  ä¸è¿‡æˆ‘ä»¬æœªæ¥è¿˜ä¼šå»å¾ˆå¤šå¾ˆå¤šçš„åœ°æ–¹ã€‚è®°å¿†é‡Œé‚£ä¸€å¤©å¾ˆçƒ­ ä¸è¿‡ä½ åœ¨èº«è¾¹çš„å¿ƒæƒ…å¾ˆèˆ’çˆ½ é‚£å¤©çš„æ™šé£å¾ˆèˆ’æœ æ—¥å‡ºå¾ˆç¾ä¸½</div>
            </div>
        </div>

        <!-- å›å¿†5 -->
        <div class="memory-item">
            <div class="memory-date">2025.09.01</div>
            <div class="memory-content">
                <div class="memory-title">æˆ‘ä»¬ç¬¬ä¸€æ¬¡ä¸€èµ·ç›¸æ‹¥å…¥ç¡</div>
                <div class="memory-text">å°å®å®çš„èº«ä½“çœŸçš„å¥½è½¯å¥½è½¯ å¤§æ¦‚æ˜¯æˆ‘çš„ç”Ÿç†é€‰æ‹©äº†ä½  æˆ‘é—»åˆ°ä¸€ç§ä»æ¥éƒ½æ²¡æœ‰é—»åˆ°è¿‡å¾—é¦™å‘³ è¿™æ¬¡å’Œç¬¬ä¸‰æ¬¡çº¦ä¼šçš„åˆšå¼€å§‹éƒ½å‡ºäº†ç‚¹å°æ„å¤– å®å®çš„æ‰‹è¢«çƒ«åˆ°äº† å½“æ—¶çœŸçš„å¿ƒç–¼çš„ä¸è¡Œ ä½ æ˜¯æˆ‘çš„å°å®è— æˆ‘è¦å¥½å¥½ä¿æŠ¤å¥½ä½ </div>
            </div>
        </div>

        <!-- å›å¿†6 -->
        <div class="memory-item">
            <div class="memory-date">2025.10.07</div>
            <div class="memory-content">
                <div class="memory-title">æˆ‘ä»¬çš„ç¬¬äºŒæ¬¡æ—…è¡Œ goæ³‰å·</div>
                <div class="memory-text">ä¸¤å¤©æ—¶é—´åªå»äº†ä¸ªè¥¿è¡— è‡³äºå…¶ä»–æ—¶é—´..æˆ‘ä»¬ä¸¤ä¸ªå¿ƒé‡Œéƒ½æ¸…æ¥š ä½ çš„èº«ä½“æœ‰ä¸€è‚¡åªæœ‰æˆ‘å¯ä»¥æ„Ÿå—åˆ°çš„æš–æµ å¸¦çš„èŠ¬é¦™åˆºæ¿€æˆ‘çš„å¿ƒ è§£å¼€ä½ è¹‚èºä½  å¾®å…‰ä¸‹æ€§æ„Ÿçš„èº¯ä½“å¤¹æ‚ç—›è‹¦åˆäº«å—çš„å‘»åŸ è¢«æˆ‘å æœ‰çš„ä½ æ ¼å¤–çš„ç¾ä¸½ å‡Œæ™¨å››ç‚¹çš„å¤œé‡Œ æˆ‘å®£èª“äº†ä½ èº«ä½“çš„ä¸»æƒ å†™ä¸‹äº†æˆ‘çš„åå­—</div>
            </div>
        </div>

        <!-- å›å¿†7 -->
        <div class="memory-item">
            <div class="memory-date">2025.10.08</div>
            <div class="memory-content">
                <div class="memory-title">è¥¿è¡—è¡Œ</div>
                <div class="memory-text">æˆ‘ä»¬æœªæ¥è¿˜ä¼šå»åˆ°å¾ˆå¤šå¾ˆå¤šçš„åŸå¸‚ æˆ‘æƒ³ä½  åƒå¾ˆå¤šå¾ˆå¤šåœ°æ–¹çš„æ¦´è²é…¥ çœ‹å¾ˆå¤šå¾ˆå¤šåŸå¸‚çš„æ—¥å‡ºæ—¥è½ é‚£å¤©å¤œé‡Œçš„æ²‰é»˜ æ˜¯æˆ‘ä¸æ„¿é¢å¯¹çš„ç¦»åˆ« èº«ä½“è‡ªç„¶è€Œä¸ºä¹‹çš„ååº” æˆ‘æƒ³ç›¸æ‹¥ æƒ³äº²å» å¾ˆé•¿æ—¶é—´ å®‰å®‰é™é™çš„æ„Ÿå—å½¼æ­¤çš„æ¸©åº¦ ä»€ä¹ˆä¹Ÿä¸è¯´</div>
            </div>
        </div>
        <!-- å¯ä»¥ç»§ç»­æ·»åŠ æ›´å¤šå›å¿† -->
    </div>

    <div class="memory-footer">
        <div class="floating-hearts">ğŸ’–ğŸ’•ğŸ’—ğŸ’“ğŸ’</div>
        <p>æ¸¸å…ˆç”Ÿå’Œå°å†¯åŒå­¦çš„æ•…äº‹è¿˜æœ‰å¾ˆå¤šå¾ˆå¤š ä¸€ç›´éƒ½ä¼šæœ‰ ç›´åˆ°æ…¢æ…¢çš„è€å» ç›´åˆ°æˆ‘ä»¬ä¸€èµ·é£åˆ°äº†å¦å¤–ä¸€ä¸ªä¸–ç•Œä¸Š ç”±æ–°çš„å°å°çš„äº²çˆ±çš„äºº æ¥å›å¿†æˆ‘ä»¬</p>
    </div>
    <!-- ğŸ’Œ æˆ‘ä»¬çš„ç§˜å¯†æƒ…ä¹¦ç³»ç»Ÿ -->
<section class="love-letters-section">
    <div class="letters-header">
        <div class="letter-heart">âœ‰ï¸</div>
        <h2>æˆ‘ä»¬çš„ç§˜å¯†æƒ…ä¹¦</h2>
        <p>å†™ä¸‹æƒ³å¯¹å½¼æ­¤è¯´çš„è¯...</p>
    </div>

    <!-- å†™ä¿¡åŒºåŸŸ -->
    <div class="write-letter">
        <h3>ğŸ’– å†™ä¸€å°æƒ…ä¹¦</h3>
        <div class="letter-form">
            <select id="letterTo">
                <option value="you">ğŸ“ å†™ç»™æ¸¸å…ˆç”Ÿ</option>
                <option value="me">ğŸ“ å†™ç»™å†¯å°æœ‹å‹</option>
            </select>
            <textarea id="letterContent" placeholder="åœ¨è¿™é‡Œå†™ä¸‹ä½ çš„å¿ƒé‡Œè¯..."></textarea>
            <div class="letter-actions">
                <button onclick="sendLetter()" class="send-btn">ğŸ’Œ å¯„å‡ºæƒ…ä¹¦</button>
                <button onclick="saveDraft()" class="draft-btn">ğŸ“ ä¿å­˜è‰ç¨¿</button>
            </div>
        </div>
    </div>

    <!-- æƒ…ä¹¦å±•ç¤ºåŒº -->
    <div class="letters-display">
        <h3>ğŸ“¬ æˆ‘ä»¬çš„æƒ…ä¹¦å¾€æ¥</h3>
        <div class="letters-container" id="lettersContainer">
            <!-- æƒ…ä¹¦ä¼šåŠ¨æ€æ˜¾ç¤ºåœ¨è¿™é‡Œ -->
            <div class="no-letters">è¿˜æ²¡æœ‰æƒ…ä¹¦å‘¢ï¼Œå†™ç¬¬ä¸€å°å§ï¼</div>
        </div>
    </div>

    <!-- å›å¤åŠŸèƒ½ -->
    <div class="reply-section" id="replySection" style="display: none;">
        <h3>âœï¸ å›å¤è¿™å°æƒ…ä¹¦</h3>
        <textarea id="replyContent" placeholder="å›å¤ä½ çš„å¿ƒé‡Œè¯..."></textarea>
        <button onclick="sendReply()" class="reply-btn">ğŸ’ å‘é€å›å¤</button>
    </div>
</section>
    <!-- ğŸ—ºï¸ æˆ‘ä»¬çš„çˆ±æƒ…åœ°å›¾ -->
<section class="love-map-section">
    <div class="map-header">
        <div class="map-heart">ğŸŒ</div>
        <h2>æˆ‘ä»¬çš„çˆ±æƒ…è¶³è¿¹</h2>
        <p>è®°å½•æˆ‘ä»¬ä¸€èµ·èµ°è¿‡çš„æ¯ä¸€ä¸ªåœ°æ–¹</p>
    </div>

    <!-- åœ°å›¾å®¹å™¨ -->
    <div class="map-container">
        <div id="loveMap" class="love-map"></div>

        <!-- åœ°å›¾æ§åˆ¶é¢æ¿ -->
        <div class="map-controls">
            <div class="add-memory">
                <h3>ğŸ’ è¿™é‡Œå¯ä»¥æ·»åŠ æ–°çš„å›å¿†åœ°ç‚¹å“¦ï¼</h3>
                <div class="memory-form">
                    <input type="text" id="locationName" placeholder="åœ°ç‚¹åç§°ï¼ˆå¦‚ï¼šè¥¿æ¹–è¾¹ï¼‰">
                    <input type="text" id="locationAddress" placeholder="å…·ä½“åœ°å€ï¼ˆå¦‚ï¼šæ­å·å¸‚è¥¿æ¹–åŒºï¼‰">
                    <input type="date" id="visitDate">
                    <textarea id="memoryDescription" placeholder="åœ¨è¿™é‡Œçš„å›å¿†..."></textarea>
                    <button onclick="addMemoryLocation()" class="add-btn">ğŸ“ æ·»åŠ å›å¿†åœ°ç‚¹</button>
                </div>
            </div>

            <div class="memories-list">
                <h3>ğŸ“Œ æˆ‘ä»¬çš„è¶³è¿¹</h3>
                <div id="memoriesList" class="memories-container">
                    <!-- å›å¿†åœ°ç‚¹åˆ—è¡¨ä¼šåŠ¨æ€æ˜¾ç¤ºåœ¨è¿™é‡Œ -->
                </div>
            </div>
        </div>
    </div>
</section>
<!-- ğŸ¯ ä¸€èµ·å¾…å®Œæˆçš„å°äº‹ä»¶ -->
<section class="todo-section">
    <div class="todo-header">
        <h2>ğŸ¯ ä¸€èµ·å¾…å®Œæˆçš„å°äº‹ä»¶</h2>
        <p class="todo-subtitle">æ…¢æ…¢å˜æˆå½¼æ­¤çš„æ—§äººï¼Œæ…¢æ…¢çˆ±ç€å½¼æ­¤ï¼Œæ…¢æ…¢å‘ç”Ÿæ›´å¤šæ›´å¤šæ–°äº‹ ğŸ’–</p>
    </div>

    <div class="todo-input-group">
        <input type="text" id="newTodo" placeholder="æ·»åŠ æ–°çš„å¾…å®Œæˆäº‹ä»¶..." class="todo-input">
        <button onclick="addNewTodo()" class="add-btn">+ æ·»åŠ </button>
    </div>

    <div class="todo-list" id="todoList">
        <!-- å¾…åŠäº‹é¡¹ä¼šåŠ¨æ€æ˜¾ç¤ºåœ¨è¿™é‡Œ -->
    </div>
</section>
<!-- ğŸ’• æˆ‘ä»¬çš„é»˜å¥‘åº¦æµ‹è¯• -->
<section class="compatibility-test">
    <div class="test-header">
        <h2>ğŸ’•å°å®å® è¿™é‡Œæ˜¯ä¸€ä¸ªå°æµ‹è¯•å“Ÿ~éƒ½ç­”å¯¹æœ‰å°å¥–åŠ±ï¼</h2>
        
        <p>çœ‹çœ‹æˆ‘ä»¬æœ‰å¤šäº†è§£å½¼æ­¤~</p>
    </div>
    
    <div class="quiz-container" id="quizContainer">
        <div class="question" id="question1">
            <h3>é—®é¢˜ 1/3</h3>
            <p>æˆ‘ä»¬ç¬¬ä¸€æ¬¡çº¦ä¼šå»äº†å“ªé‡Œï¼Ÿï¼ˆé€åˆ†é¢˜ï¼ï¼ï¼ï¼‰</p>
            <div class="options">
                <button onclick="selectAnswer(1, 'A')">A. ä¸‰ç§‹çš„èŠ±å›­çŒ«å’–</button>
                <button onclick="selectAnswer(1, 'B')">B. åŸå¢ä¸‡è¾¾ç”µå½±é™¢</button>
                <button onclick="selectAnswer(1, 'C')">C. é›€å‘æ½®KTV</button>
                <button onclick="selectAnswer(1, 'D')">D. é…’åº—</button>
            </div>
        </div>
        
        <div class="question" id="question2" style="display: none;">
            <h3>é—®é¢˜ 2/3</h3>
            <p>ä»¥ä¸‹å“ªä¸ªé£Ÿç‰©æ˜¯ä½ å–œæ¬¢åƒæˆ‘å¾ˆä¸å–œæ¬¢åƒçš„ï¼Ÿï¼ˆé€åˆ†+1ï¼‰</p>
            <div class="options">
                <button onclick="selectAnswer(2, 'A')">A. æ’éª¨</button>
                <button onclick="selectAnswer(2, 'B')">B. ç§‹è‘µ</button>
                <button onclick="selectAnswer(2, 'C')">C. è†ç”°å¤é¢</button>
                <button onclick="selectAnswer(2, 'D')">D. æ‚ å“ˆç‰›å¥¶ç³–</button>
            </div>
        </div>
        
        <div class="question" id="question3" style="display: none;">
            <h3>é—®é¢˜ 3/3</h3>
            <p>ä½ çš„ç”·å‹ï¼ˆè€å…¬ï¼ˆå¯¹å¯¹å¯¹ï¼ä»¥åè¦è¿™ä¹ˆå«æˆ‘ï¼‰ï¼‰å…·æœ‰ä»¥ä¸‹å“ªäº›ç‰¹å¾ï¼Ÿ</p>
            <div class="options">
                <button onclick="selectAnswer(3, 'A')">A.ï¼Ÿ </button>
                <button onclick="selectAnswer(3, 'B')">B. ï¼Ÿ</button>
                <button onclick="selectAnswer(3, 'C')">C. è™½173ä½†çœ‹ä¼¼198é£æµå€œå‚¥éœ¸é“å¸…æ°”èµ°è·¯å¸¦é£åŠ±å¿—ç‰‡ç”·ä¸»è§’æ—¢è§†æ„Ÿä¸”ç‹¬çˆ±å†¯æ™“å¨Ÿå°å®è´~</button>
                <button onclick="selectAnswer(3, 'D')">D. ï¼Ÿ</button>
            </div>
        </div>
    </div>
    
    <!-- æµ‹è¯•ç»“æœåŒºåŸŸ -->
    <div class="result-container" id="resultContainer" style="display: none;">
        <div class="score-display">
            <h3>æµ‹è¯•ç»“æœ</h3>
            <div class="score" id="scoreText">é»˜å¥‘åº¦ï¼š0%</div>
            <p id="resultMessage"></p>
        </div>
        
        <!-- å°ä¿¡å°å¥–åŠ± -->
        <div class="envelope-reward" id="envelopeReward" style="display: none;">
            <div class="envelope" onclick="openEnvelope()">
                âœ‰ï¸
                <span class="envelope-tip">ç‚¹å‡»æ‰“å¼€æƒŠå–œ</span>
            </div>
        </div>
    </div>
</section>

<!-- æƒŠå–œå†…å®¹å¼¹çª— -->
<div class="surprise-modal" id="surpriseModal" style="display: none;">
    <div class="modal-content">
        <button class="close-btn" onclick="closeSurprise()">Ã—</button>
        <h3>ğŸ’Œ ç»™æœ€çˆ±çš„å°å®å®</h3>
        <div class="surprise-text">
            <p>äº²çˆ±çš„å†¯å°æœ‹å‹ï¼š</p>
            <p>âœï¸æ•°æ—¥æ—¶é—´ ç»è¿‡æ— æ•°bugçš„ä¾µæ‰° æˆ‘åšå‡ºäº†æˆ‘äººç”Ÿä¸­çš„ç¬¬ä¸€ä¸ªç½‘ç«™ ä¹Ÿæ˜¯å±äºæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªç½‘ç«™ è¿™æ˜¯æˆ‘æš—è‡ªç»™è‡ªå·±ä¸‹çš„ä¸€ä¸ªæŒ‘æˆ˜ ä¹Ÿæ˜¯å±äºæˆ‘ä»¬çš„ä¸€ä¸ªæƒŠå–œ å¾ˆæœ‰æˆå°±æ„Ÿ åç»­æˆ‘ä¹Ÿä¼šåœ¨é—²æš‡ä¹‹ä½™ å¶å°”æ·»åŠ ä¸€äº›åŠŸèƒ½å’Œæ–‡å­—</p>
            <p>è¿™æ˜¯æˆ‘ç²¾å¿ƒç­¹å¤‡äº†å¾ˆä¹…çš„ç¤¼ç‰©~å¸Œæœ›å°å®å®èƒ½å¤Ÿå–œæ¬¢ï¼å®ƒä¼šæ‰¿è½½ç€æˆ‘ä»¬å¾ˆå¤šçš„ç¾å¥½çš„å›å¿† æˆ‘æƒ³å¾ˆè®¤çœŸçš„å‘Šè¯‰ä½  æˆ‘ä¼šä»¥æˆ‘ç‹¬ä¸€çš„æ–¹å¼ å¥½å¥½çš„çˆ±ç€ä½  äº²çˆ±çš„å†¯æ™“å¨Ÿ</p>
            <p>ç”Ÿæ—¥å¿«ä¹ äº²çˆ±çš„ğŸ˜š æˆ‘çš„å°æœ‹å‹ ç°å®ä¸­ä¸åœ¨ä½ èº«æ—çš„æ—¥å­å¯èƒ½æ„Ÿå—ä¸åˆ°å¾ˆå…·ä½“çš„çˆ± ä½†æƒ³å¿µæœ¬èº«åœ¨å¿ƒçš„è¿æ¥ä¸‹æœ¬èº«å¯ä»¥è·¨è¶Šè·ç¦»</p>
            <p>â¤ï¸æ‰äºŒåä¸‰  ä¸€åˆ‡éƒ½è¿˜æ—©  è¶èŒ¶èŠ±æ­£å¼€ è¶å±±æ²³æµªæ¼«  é’æ˜¥æ­£å¥½ æˆ‘ä»¬ä¹Ÿåˆšåˆšå¥½</p>
            <p>å¤§åŒå…¶å®è¿™é¦–æ­Œå†™çš„æ˜¯æ„Ÿæ…¨23å²çš„æ—¶å€™é‚£ä¹ˆå¹´è½» ä¸€è½¬çœ¼æ—¶é—´å·²ç»åˆ°äº†41å²äº† ä¸è¿‡ç°åœ¨ä¹Ÿæ­£å¥½ "è™½ç„¶æˆ‘çš„é’æ˜¥å·²ç»é€å» ä½†æˆ‘ä¾æ—§æ„¿æ„è¿‡å¥½æ¯ä¸ªå½“ä¸‹ æ²¡ä»€ä¹ˆå¤§ä¸äº†" è¿™æ˜¯å¾ˆæœ‰åŠ›é‡çš„å™äº‹æ­Œå‘¢</p>
            <p>åœ¨è¿™ä¸ªç‰¹åˆ«çš„æ—¥å­ æˆ‘å¾ˆå¸Œæœ›æŠŠè¿™ç§éŸ³ä¹çš„åŠ›é‡å’Œçˆ±çš„åŠ›é‡å¸¦ç»™æˆ‘æœ€äº²çˆ±çš„ä½  åœ¨è¿™ä¸ªå°å°ä¸–ç•Œé‡ŒğŸŒ  å‡­å€Ÿç€å‡ åäº¿åˆ†ä¹‹ä¸€çš„æ¦‚ç‡ æˆ‘ä»¬çˆ±äº†å¾ˆä¹…å¾ˆä¹…ğŸ’–</p>
            <p style="text-align: right; margin-top: 20px;">æ°¸è¿œçˆ±ä½ çš„<br>æ¸¸å˜‰è±ª</p>
        </div>
        
        <!-- è§†é¢‘æ’­æ”¾ -->
        <div class="video-container">
            <video controls width="100%">
                <source src="video/our-love.mp4" type="video/mp4">
                ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾
            </video>
        </div>
    </div>
</div>
    </section>
    <footer>
        <p>Created with love for you. ğŸ’–</p>
    </footer>
</body>
</html>
